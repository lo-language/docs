factorial is <-> (num) {

    if num < 0 {
        fail "I pity the fool!";
    }

    if num <= 1 {
        reply 1;
    }

    reply num * factorial(num - 1);
};

// todo - enable main to come first?
main is <-> (args, io) {

    io.out.write("`factorial(args[0])`\n");
};
