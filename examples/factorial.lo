factorial is <-> (num) {

    if num < 0 {
        fail "I pity the fool!";
    }

    if num <= 1 {
        reply 1;
    }

    reply num * factorial(num - 1);
};

main is <-> (args, system) {
    
    if #args < 1 {
        fail "please provide an integer argument";
    }

    system.out.writeln(`factorial(args[0])`);
};
